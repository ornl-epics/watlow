####  Macro Definitions  ####
# (s)	- Beam Line
# (ta)	- Target Area
# (ss)	- Device Name
# (i)	- Channel or Index
# (DFn)	- Default Output Digtial Function
# (Fnd)	- Output Digitial Function
# (Fi)	- Function Instance
# (oCt)	- Output Control
# (otB)	- Output Time Base
# (dLo)	- Output Low Power Scale
# (dhi)	- Output High Power Scale
# (oty)	- Output Type


#=========== Output Menu (Instance 2 and 3) ===========
# ========= Read Backs
# Output Digtial Function
record(mbbi, "$(s):$(ta):$(ss):$(mod):OutputFunction$(ch)RB") 
{
	field(SCAN,	"I/O Intr")
	field(PINI,	"YES")
	field(DTYP,	"asynUInt32Digital")
	field(INP,	"@asynMask(watlow_AO$(ch)_Enum_1.$(mod),0,0xFF,2000)UINT16")
	field(ZRST,	"Off")
	field(ZRVL,	"62")
	field(ONST,	"Alarm")
	field(ONVL,	"6")
	field(TWST,	"Heat")
	field(TWVL,	"36")
	field(THST,	"Cool")
	field(THVL,	"20")
	field(FRST,	"Special Function Output 1")
	field(FRVL,	"1532")
	field(FVST,	"Special Function Output 2")
	field(FVVL,	"1533")
	field(SXST,	"Profile Event Out A")
	field(SXVL,	"233")
	field(SVST,	"Profile Event Out B")
	field(SVVL,	"234")
	field(EIST,	"Limit")
	field(EIVL,	"126")
}

# Function Instance
record(mbbi, "$(s):$(ta):$(ss):$(mod):FunctionInstanceD$(ch)RB") 
{
	field(SCAN,	"I/O Intr")
	field(PINI,	"YES")
	field(DTYP,	"asynUInt32Digital")
	field(INP,	"@asynMask(watlow_AO$(ch)_Enum_1.$(mod),2,0xFF,2000)UINT16")
	field(ZRST,	"1")
	field(ZRVL,	"1")
	field(ONST,	"2")
	field(ONVL,	"2")
	field(TWST,	"3")
	field(TWVL,	"3")
	field(THST,	"4")
	field(THVL,	"4")
}

# Output Time Base
record(ai, "$(s):$(ta):$(ss):$(mod):OutputTimeBase$(ch)RB") 
{
	field(SCAN,	"I/O Intr")
	field(PINI,	"YES")
	field(DTYP,	"asynFloat64")
	field(INP,	"@asyn(watlow_AO$(ch)_Num_1.$(mod),0,2000)FLOAT32_BE")
	field(PREC,	"1")
	field(EGU,	"s")
}

# Output Low Power Scale
record(ai, "$(s):$(ta):$(ss):$(mod):OutputLPScale$(ch)RB") 
{
	field(SCAN,	"I/O Intr")
	field(PINI,	"YES")
	field(DTYP,	"asynFloat64")
	field(INP,	"@asyn(watlow_AO$(ch)_Num_1.$(mod),12,2000)FLOAT32_BE")
	field(PREC,	"1")
	field(EGU,	"%")
}

# Output High Power Scale
record(ai, "$(s):$(ta):$(ss):$(mod):OutputHPScale$(ch)RB") 
{
	field(SCAN,	"I/O Intr")
	field(PINI,	"YES")
	field(DTYP,	"asynFloat64")
	field(INP,	"@asyn(watlow_AO$(ch)_Num_1.$(mod),14,2000)FLOAT32_BE")
	field(PREC,	"1")
	field(EGU,	"%")
}



# ========= Outputs
# Output Digtial Function
record(mbbo, "$(s):$(ta):$(ss):$(mod):OutputFunction$(ch)") 
{
	field(SCAN,	"Passive")
	field(DTYP,	"asynUInt32Digital")
	field(OUT,	"@asynMask(watlow.enum.w.$(mod),$(Fnd=1038),0xFF,2000)UINT16")
	field(ZRST,	"Off")
	field(ZRVL,	"62")
	field(ONST,	"Alarm")
	field(ONVL,	"6")
	field(TWST,	"Heat")
	field(TWVL,	"36")
	field(THST,	"Cool")
	field(THVL,	"20")
	field(FRST,	"Special Function Output 1")
	field(FRVL,	"1532")
	field(FVST,	"Special Function Output 2")
	field(FVVL,	"1533")
	field(SXST,	"Profile Event Out A")
	field(SXVL,	"233")
	field(SVST,	"Profile Event Out B")
	field(SVVL,	"234")
	field(EIST,	"Limit")
	field(EIVL,	"126")
	info(autosaveFields,	"VAL")
}

# Function Instance
record(mbbo, "$(s):$(ta):$(ss):$(mod):FunctionInstanceD$(ch)") 
{
	field(SCAN,	"Passive")
	field(DTYP,	"asynUInt32Digital")
	field(OUT,	"@asynMask(watlow.enum.w.$(mod),$(Fid=1040),0xFF,2000)UINT16")
	field(ZRST,	"1")
	field(ZRVL,	"1")
	field(ONST,	"2")
	field(ONVL,	"2")
	field(TWST,	"3")
	field(TWVL,	"3")
	field(THST,	"4")
	field(THVL,	"4")
	info(autosaveFields,	"VAL")
}

# Output Time Base
record(ao, "$(s):$(ta):$(ss):$(mod):OutputTimeBase$(ch)") 
{
	field(SCAN,	"Passive")
	field(DTYP,	"asynFloat64")
	field(OUT,	"@asyn(watlow.w.$(mod),$(otB=1034),2000)FLOAT32_BE")
	field(PREC,	"1")
	field(EGU,	"s")
	field(DRVL,	"5.0")
	field(DRVH,	"60.0")
	info(autosaveFields,	"VAL")
}

# Output Low Power Scale
record(ao, "$(s):$(ta):$(ss):$(mod):OutputLPScale$(ch)") 
{
	field(SCAN,	"Passive")
	field(DTYP,	"asynFloat64")
	field(OUT,	"@asyn(watlow.w.$(mod),$(dLo=1046),2000)FLOAT32_BE")
	field(PREC,	"1")
	field(EGU,	"%")
	field(DRVL,	"0")
	field(DRVH,	"100")
	info(autosaveFields,	"VAL")
}

# Output High Power Scale
record(ao, "$(s):$(ta):$(ss):$(mod):OutputHPScale$(ch)") 
{
	field(SCAN,	"Passive")
	field(DTYP,	"asynFloat64")
	field(OUT,	"@asyn(watlow.w.$(mod),$(dhi=1048),2000)FLOAT32_BE")
	field(PREC,	"1")
	field(EGU,	"%")
	field(DRVL,	"0")
	field(DRVH,	"100")
	info(autosaveFields,	"VAL")
}
